;-------------------------------------------------------------------------;
.include "copying.inc"
.include "snes.inc"
.include "snes_zvars.inc"
;-------------------------------------------------------------------------;


;/////////////////////////////////////////////////////////////////////////;
.code
;/////////////////////////////////////////////////////////////////////////;

	.a8
	.i16

;*************************************************************************;
; copy data to RAM with DMA
;	
; a,y = ROM address
; x = size (bytes)
; WMADD = target
;*************************************************************************;
DMAtoRAM:
;-------------------------------------------------------------------------;
	sta	REG_A1B7
	sty	REG_A1T7
	
	stx	REG_DAS7L		; set transfer size
	lda	#<REG_WMDATA		; target = WRAM
	sta	REG_BBAD7		;
	stz	REG_DMAP7		;
	lda	#1<<7			;
	sta	REG_MDMAEN		; start transfer
;-------------------------------------------------------------------------;
	rts


