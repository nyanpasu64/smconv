;-------------------------------------------------------------------------;
.include "menu.inc"
.include "nmi.inc"
.include "oam.inc"
.include "options.inc"
.include "plasma.inc"
.include "reset.inc"
.include "shadow_ram.inc"
.include "snes.inc"
.include "snes_joypad.inc"
.include "snes_zvars.inc"
;-------------------------------------------------------------------------;
.import DoPlasmaMap
;-------------------------------------------------------------------------;
.global waitvb, waitvb2
.global main
;-------------------------------------------------------------------------;



;/////////////////////////////////////////////////////////////////////////;
.zeropage
;/////////////////////////////////////////////////////////////////////////;


;-------------------------------------------------------------------------;
frame_ready:
	.res	1
options:
	.res	1
;-------------------------------------------------------------------------;


;/////////////////////////////////////////////////////////////////////////;
.code
;/////////////////////////////////////////////////////////////////////////;


	.a8
	.i16


;-------------------------------------------------------------------------;
; program entry point
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;
main:
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;
:	jsr	DoMenu
	jsr	ResetReg
	bra	:-



;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;
waitvb:
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;
	lda	REG_RDNMI
	bpl	waitvb
	rts
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;
waitvb2:
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;
	lda	REG_RDNMI
	bpl	waitvb2
:	lda	REG_RDNMI
	bmi	:-
	rts


;/////////////////////////////////////////////////////////////////////////;
.segment "HDATA"
;/////////////////////////////////////////////////////////////////////////;
